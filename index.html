<!DOCTYPE html>
<html>
   <head>
      <title>AR Poster</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />

      <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

      <style>
         /* Deskripsi Melayang (Floating) */
         .floating-desc {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 85%;
            max-width: 500px;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            font-family: sans-serif;
            text-align: center;

            /* Animasi Muncul/Hilang */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, transform 0.4s ease;
            transform: translateX(-50%) translateY(20px); /* Geser ke bawah dikit saat hidden */
         }

         /* Saat visible */
         .floating-desc.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
         }

         .floating-desc h3 {
            margin: 0 0 8px 0;
            color: #333;
         }
         .floating-desc p {
            margin: 0;
            font-size: 0.9rem;
            color: #555;
         }
      </style>

      <script>
         document.addEventListener("DOMContentLoaded", function () {
            const target = document.querySelector("#target-poster");
            const desc = document.querySelector(".floating-desc");

            // Saat gambar terdeteksi
            target.addEventListener("targetFound", (event) => {
               console.log("Poster ditemukan");
               desc.classList.add("visible");
            });

            // Saat gambar hilang
            target.addEventListener("targetLost", (event) => {
               console.log("Poster hilang");
               desc.classList.remove("visible");
            });
         });
      </script>
   </head>
   <body>
      <div class="floating-desc">
         <h3>Harmoni TerPADU, Prestasi Melaju</h3>
         <p>Deskripsi singkat mengenai poster ini. Model 3D akan muncul tepat di atas poster</p>
      </div>

      <a-scene mindar-image="imageTargetSrc: ./targets.mind; uiScanning: yes;" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
         <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

         <a-entity id="target-poster" mindar-image-target="targetIndex: 0">
            <a-entity gltf-model="./model.glb" rotation="90 0 0" position="0 0 0" scale="0.5 0.5 0.5"> </a-entity>
         </a-entity>
      </a-scene>
   </body>
</html>
